{"version":3,"sources":["webpack:///./src/script.js"],"names":["canvas","ctx","k","b","block","x","v","mass","wall","lx","t","frequency","frameRate","mouse","y","isDown","getMousePosition","e","pageX","offsetLeft","document","getElementById","getContext","onmousemove","onmousedown","which","onmouseup","onchange","this","innerHTML","value","parseInt","parseFloat","setInterval","Math","sin","PI","a","clearRect","save","strokeStyle","beginPath","moveTo","height","lineTo","stroke","closePath","fillStyle","fillRect","restore"],"mappings":"MACA,IAaIA,EACAC,EAdAC,GAAK,GAILC,GAAK,GAGLC,EAAQ,CAACC,EAAG,IAAKC,EAAG,EAAGC,KAAM,IAC7BC,EAAQ,CAACH,EAAG,GAAKI,GAAI,GAAIH,EAAG,EAAGI,EAAG,EAAGC,UAAW,GAEhDC,EAAa,EAAE,GAmHfC,EAAQ,CAACR,EAAG,EAAGS,EAAG,EAAGC,QAAQ,GAE7BC,EAAmB,SAASC,GAC5BJ,EAAMR,EAAIY,EAAEC,MAAQlB,EAAOmB,WACvBN,EAAME,SAENX,EAAMC,EAAIQ,EAAMR,EAAI,KAvDxBL,EAASoB,SAASC,eAAe,UACjCpB,EAAMD,EAAOsB,WAAW,MAExBtB,EAAOuB,YAAcP,EAErBhB,EAAOwB,YAAc,SAASP,GACX,GAAXA,EAAEQ,QACFT,EAAiBC,GACjBJ,EAAME,QAAS,EACfX,EAAMC,EAAIQ,EAAMR,EAAI,KAI5BL,EAAO0B,UAAY,SAAST,GACT,GAAXA,EAAEQ,QACFZ,EAAME,QAAS,IAIvBK,SAASC,eAAe,YAAYM,SAAW,WAC3CC,KAAKC,UAAYD,KAAKE,MACtB5B,GAAK,EAAI6B,SAASH,KAAKE,OACvBV,SAASC,eAAe,kBAAkBQ,UAAY3B,GAG1DkB,SAASC,eAAe,YAAYM,SAAW,WAC3CC,KAAKC,UAAYD,KAAKE,MACtB3B,GAAK,EAAI6B,WAAWJ,KAAKE,OACzBV,SAASC,eAAe,kBAAkBQ,UAAY1B,GAG1DiB,SAASC,eAAe,YAAYM,SAAW,WAC3CC,KAAKC,UAAYD,KAAKE,MACtBtB,EAAKG,UAAYqB,WAAWJ,KAAKE,OACjCV,SAASC,eAAe,kBAAkBQ,UAAYrB,EAAKG,WAG/DS,SAASC,eAAe,YAAYM,SAAW,WAC3CC,KAAKC,UAAYD,KAAKE,MACtB1B,EAAMG,KAAOyB,WAAWJ,KAAKE,OAC7BV,SAASC,eAAe,kBAAkBQ,UAAYzB,EAAMG,MAMhE0B,aAvGO,WAWP,GARAzB,EAAKE,GAAKE,EACVJ,EAAKC,GAAKD,EAAKH,EACfG,EAAKH,EAAI,GAAK,GAAK6B,KAAKC,IAAI,EAAID,KAAKE,GAAK5B,EAAKG,UAAYH,EAAKE,GAChEF,EAAKF,GAAKE,EAAKH,EAAIG,EAAKC,IAAMG,GAKvBC,EAAME,OACb,CACI,IAGIsB,GAHWnC,GAAOE,EAAMC,EAAIG,EAAKH,EA/BzB,KAgCGF,GAAMC,EAAME,EAAIE,EAAKF,IAEFF,EAAMG,KACxCH,EAAME,GAAK+B,EAAIzB,EACfR,EAAMC,GAAKD,EAAME,EAAIM,EASzB,IAJAX,EAAIqC,UAAU,EAAG,EA3BR,IACA,KA4BTrC,EAAIsC,OAEClC,EAAIG,EAAKH,EAAGA,EAAID,EAAMC,EAAGA,GAAK,GAE/BJ,EAAIuC,YAAc,OAClBvC,EAAIwC,YACJxC,EAAIyC,OAAOrC,EAAGsC,IACd1C,EAAI2C,OAAOvC,EAAI,GAAIsC,KACnB1C,EAAI2C,OAAOvC,EAAI,GAAIsC,IACnB1C,EAAI4C,SACJ5C,EAAI6C,YAGR7C,EAAIuC,YAAc,MAClBvC,EAAIwC,YACJxC,EAAIyC,OAAO,EAAGC,KACd1C,EAAI2C,OAAOxC,EAAMC,EAAGsC,KACpB1C,EAAI4C,SACJ5C,EAAI6C,YAEJ7C,EAAI8C,UAAY,UAChB9C,EAAI+C,SAAS,EAAG,EAAGxC,EAAKH,EAjDf,KAmDTJ,EAAI8C,UAAY,QAChB9C,EAAI+C,SAAS5C,EAAMC,EAAGsC,GAA4B,GAAI,IAEtD1C,EAAIgD,YA3DSrC,qB","file":"bundle.4c261fd3abd2ed4e61d3.js","sourcesContent":["/* Spring stiffness, in kg / s^2 */\nvar k = -20;\nvar spring_length = 180;\n\n/* Damping constant, in kg / s */\nvar b = -0.5;\n\n/* Block position and velocity. */\nvar block = {x: 100, v: 0, mass: 0.5};\nvar wall  = {x: 30,  lx: 30, v: 0, t: 0, frequency: 0};\n\nvar frameRate  = 1/30;\nvar frameDelay = frameRate * 1000;\n\nvar canvas;\nvar ctx;\nvar width  = 400;\nvar height = 200;\n\n\nvar loop = function() {\n\n    /* Move the wall. */\n    wall.t += frameRate;\n    wall.lx = wall.x;\n    wall.x = 30 + 70 * Math.sin(2 * Math.PI * wall.frequency * wall.t);\n    wall.v = (wall.x - wall.lx) / frameRate;\n\n\n    /* Move the block. */\n\n    if ( ! mouse.isDown )\n    {\n        var F_spring = k * ( (block.x - wall.x) - spring_length );\n        var F_damper = b * ( block.v - wall.v );\n\n        var a = ( F_spring + F_damper ) / block.mass;\n        block.v += a * frameRate;\n        block.x += block.v * frameRate;\n    }\n\n\n    /* Drawing */\n    ctx.clearRect(0, 0, width, height);\n\n    ctx.save();\n\n    for (x = wall.x; x < block.x; x += 20)\n    {\n        ctx.strokeStyle = 'blue';\n        ctx.beginPath();\n        ctx.moveTo(x, height / 2 - 10);\n        ctx.lineTo(x + 10, height / 2);\n        ctx.lineTo(x + 20, height / 2 - 10);\n        ctx.stroke();\n        ctx.closePath();\n\n    }\n    ctx.strokeStyle = 'red';\n    ctx.beginPath();\n    ctx.moveTo(0, height / 2 + 10);\n    ctx.lineTo(block.x, height / 2 + 10);\n    ctx.stroke();\n    ctx.closePath();\n\n    ctx.fillStyle = '#CCCCCC';\n    ctx.fillRect(0, 0, wall.x, height);\n    \n    ctx.fillStyle = 'black';\n    ctx.fillRect(block.x, height - (height / 2 + 25), 50, 50);\n\n    ctx.restore();\n\n\n};\n\nvar setup = function() {\n    canvas = document.getElementById('canvas');\n    ctx = canvas.getContext('2d');\n\n    canvas.onmousemove = getMousePosition;\n\n    canvas.onmousedown = function(e) {\n        if (e.which == 1) {\n            getMousePosition(e);\n            mouse.isDown = true;\n            block.x = mouse.x - 25;\n        }\n    };\n\n    canvas.onmouseup = function(e) { \n        if (e.which == 1) {\n            mouse.isDown = false;\n        }\n    };\n\n    document.getElementById('k_slider').onchange = function() {\n        this.innerHTML = this.value;\n        k = -1 * parseInt(this.value);\n        document.getElementById('k_slider_label').innerHTML = k;\n    };\n\n    document.getElementById('b_slider').onchange = function() {\n        this.innerHTML = this.value;\n        b = -1 * parseFloat(this.value);\n        document.getElementById('b_slider_label').innerHTML = b;\n    };\n\n    document.getElementById('f_slider').onchange = function() {\n        this.innerHTML = this.value;\n        wall.frequency = parseFloat(this.value);\n        document.getElementById('f_slider_label').innerHTML = wall.frequency;\n    };\n\n    document.getElementById('m_slider').onchange = function() {\n        this.innerHTML = this.value;\n        block.mass = parseFloat(this.value);\n        document.getElementById('m_slider_label').innerHTML = block.mass;\n    };\n\n    \n\n\n    setInterval(loop, frameDelay);\n};\n\nvar mouse = {x: 0, y: 0, isDown: false};\n\nvar getMousePosition = function(e) {\n    mouse.x = e.pageX - canvas.offsetLeft;\n    if (mouse.isDown)\n    {\n        block.x = mouse.x - 25;\n    }\n};\n\n\nsetup();\n"],"sourceRoot":""}